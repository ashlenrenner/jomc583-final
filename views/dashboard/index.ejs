<!DOCTYPE html>
<html>
    <head>
      <!-- jQuery -->
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<!-- Custom CSS -->
      <link href="/css/main.css" rel="stylesheet" type="text/css" />
      <link href='https://fonts.googleapis.com/css?family=Noto+Serif|Alegreya+Sans' rel='stylesheet' type='text/css'>
<!-- Boostrap  -->
      <link href="/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
      <script src="/js/bootstrap.min.js"></script>
      <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet" type="text/css" />

<!-- Angular -->
      <script src="/js/angular.min.js"></script>
      <script src="/js/angular.js"></script>

<!-- Scripts -->
  <!--Data-->
      <script src="/data/waterbill.json"></script>
      <script src="/data/waterUse.json"></script>
  <!--D3 charts-->
      <script src="http://d3js.org/d3.v3.min.js"></script>
      <script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
      <script src="/js/chart.js"></script>
      <script src="/js/liquidFillGauge.js" language="JavaScript"></script>
  <!--Map-->
      <script src="/js/map.js"></script>
      <script src="https://code.highcharts.com/maps/highmaps.js"></script>
      <script src="https://code.highcharts.com/maps/modules/exporting.js"></script>
      <script src="https://code.highcharts.com/mapdata/countries/us/us-nc-all.js"></script>

        <title>EFC Dashboard</title>
    </head>
    <body ng-app="myApp">

  <!-- Navbar -->

        <nav class="navbar navbar-default ">
          <div class="navbar-header">
            <a href="http://www.efc.sog.unc.edu/" target="_blank"><img class="logo" src="/img/logo.jpg"/></a>
          </div>
        </nav>
      <div class="container" ng-controller="BaseController as base">
        <h3>UNC Environment Finance Center</h3>

        <!--liquid graphic-->
        <svg id="fillgauge1" width="97%" height="250" onclick="gauge1.update(NewValue());"></svg>

        <!-- map -->
        <div id="container"></div>

        <!-- D3 Bar Chart -->
        <div id="barChart"></div>

        <!-- Table -->
        <div class="col-md-12">
            <table class="table table-striped table-hover" >
              <thead>
                <tr>
                    <th ng-click = "base.setSort('city')"><a href="#" class="table-head"> City </a></th>
                    <th ng-click = "base.setSort('population')"><a href="#" class="table-head">Population</a></th>
                    <th ng-click = "base.setSort('waterBill')"><a href="#" class="table-head">Water Bill</a></th>
                </tr>
              </thead>
              <tbody ng-repeat= "data in base.waterInfo | orderBy:base.sort:base.reverse | filter:searchTerm">
                  <tr>
                     <td ng-click="base.waterInfo(data.city)"><a href="#"> {{ data.city }}</a></td>
                    <td class="table-body">{{ data.population}}</td>
                    <td class="table-body">{{ data.waterBill }}</td>
                  </tr>
              </tbody>
            </table>
          </div>

        </div> <!--container-->

        <script src="/js/chart.js"></script>
    </body>
</html>
